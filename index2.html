<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤–æ–µ–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: "DM Sans", sans-serif;
        }
        
        body {
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .box {
            width: 90%;
            max-width: 1200px;
            height: auto;
            min-height: 600px;
            margin: 0 auto;
            background-color: #B7C1C3;
            border-radius: 20px;
            box-shadow: 15px 13px 26px 0px rgba(0,0,0,0.73);
            padding: 20px;
        }
        
        .columns-container {
            display: flex;
            flex-wrap: nowrap;
            align-items: flex-start;
            margin-bottom: 20px;
        }
        
        .input_v1 {
            width: 100%;
            margin-top: 10px;
            height: 30px;
            border: 1px solid #CCD6D8;
            border-radius: 10px;
            padding: 5px 10px;
            font-size: 14px;
            box-sizing: border-box;
        }
        
        .column1 {
            width: 30%;
            padding-right: 15px;
        }
        
        .column2 {
            width: 45%;
            padding: 0 15px;
        }
        
        .column3 {
            width: 25%;
            padding-left: 15px;
        }
        
        .button {
            width: 100%;
            height: 40px;
            background-color: #747f81;
            border-radius: 20px;
            border: none;
            color: white;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 10px 9px 35px 1px rgba(0,0,0,0.75);
            transition: all 0.3s ease;
        }
        
        .button:hover {
            background-color: #5a6668;
            transform: translateY(-2px);
        }
        
        .result_block {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
            padding: 15px;
            margin-top: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            height: fit-content;
            min-height: 200px;
        }
        
        .result-title {
            font-size: 18px;
            font-weight: bold;
            color: #2c3e50;
            text-align: center;
            margin-bottom: 15px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 5px;
        }
        
        .weather-info {
            background: linear-gradient(45deg, #74b9ff, #0984e3);
            color: white;
            padding: 10px;
            border-radius: 10px;
            margin-bottom: 15px;
            text-align: center;
            font-weight: bold;
        }
        
        .army-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        
        .army-block {
            width: 48%;
            background: white;
            border-radius: 10px;
            padding: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .army-block.your {
            border-left: 4px solid #27ae60;
        }
        
        .army-block.enemy {
            border-left: 4px solid #e74c3c;
        }
        
        .army-name {
            font-weight: bold;
            font-size: 14px;
            margin-bottom: 8px;
        }
        
        .army-power {
            font-size: 16px;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .losses-info {
            background: #ffe6e6;
            border-left: 4px solid #ff6b6b;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
        }
        
        .support-info {
            background: #e8f5e8;
            border-left: 4px solid #4ecdc4;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
        }
        
        .stat-line {
            margin: 5px 0;
            font-size: 13px;
        }
        
        .winner {
            background: linear-gradient(45deg, #56ab2f, #a8e6cf);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            margin-top: 15px;
        }
        
        .no-results {
            text-align: center;
            color: #7f8c8d;
            font-style: italic;
            padding: 50px 20px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            border: 2px dashed #bdc3c7;
        }
        
        .guide-block {
            padding: 15px;
            color: #2c3e50;
            background: linear-gradient(135deg, #e8f5e8 0%, #d4f1d4 100%);
            border-radius: 15px;
            margin-top: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            font-size: 11px;
        }
        
        .guide-title {
            font-size: 14px;
            font-weight: bold;
            color: #27ae60;
            margin-bottom: 15px;
            text-align: center;
            border-bottom: 2px solid #27ae60;
            padding-bottom: 5px;
        }
        
        .guide-item {
            margin-bottom: 10px;
        }
        
        .guide-item strong {
            color: #27ae60;
        }
        
        .guide-desc {
            font-size: 10px;
            margin-left: 15px;
            line-height: 1.3;
        }
        
        .weather-effects {
            margin-bottom: 8px;
        }
        
        .weather-effects strong {
            color: #3498db;
        }
        
        .tip {
            font-size: 10px;
            color: #7f8c8d;
            line-height: 1.3;
        }

        /* –ú–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏ */
        @media (max-width: 720px) {
            body {
                padding: 10px;
            }
            
            .box {
                width: 95%;
                padding: 15px;
                border-radius: 15px;
            }
            
            .columns-container {
                flex-direction: column;
                flex-wrap: wrap;
            }
            
            .column1, .column2, .column3 {
                width: 100%;
                padding: 0;
                margin-bottom: 20px;
            }
            
            /* –ü–æ—Ä—è–¥–æ–∫ –∫–æ–ª–æ–Ω–æ–∫: –≤–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö, –ø–æ–¥—Å–∫–∞–∑–∫–∞, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã */
            .column1 {
                order: 1;
            }
            
            .column3 {
                order: 2;
            }
            
            .column2 {
                order: 3;
            }
            
            .input_v1 {
                height: 35px;
                font-size: 16px; /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —à—Ä–∏—Ñ—Ç –¥–ª—è –ª—É—á—à–µ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
                margin-top: 8px;
            }
            
            .button {
                height: 45px;
                font-size: 18px;
                margin-top: 15px;
            }
            
            /* –£–º–µ–Ω—å—à–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ */
            .guide-block {
                padding: 12px;
                font-size: 10px;
                margin-top: 0;
            }
            
            .guide-title {
                font-size: 13px;
                margin-bottom: 10px;
            }
            
            .guide-item {
                margin-bottom: 8px;
            }
            
            .guide-desc {
                font-size: 9px;
                margin-left: 10px;
            }
            
            .weather-effects {
                margin-bottom: 6px;
            }
            
            .tip {
                font-size: 9px;
            }
            
            /* –°–∫—Ä—ã–≤–∞–µ–º —á–∞—Å—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –ø–æ–¥—Å–∫–∞–∑–∫–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
            .mobile-hide {
                display: none;
            }
            
            /* –†–µ–∑—É–ª—å—Ç–∞—Ç—ã */
            .result_block {
                min-height: 150px;
                padding: 12px;
                margin-top: 0;
            }
            
            .result-title {
                font-size: 16px;
            }
            
            .army-stats {
                flex-direction: column;
                gap: 10px;
            }
            
            .army-block {
                width: 100%;
            }
            
            .weather-info {
                font-size: 14px;
                padding: 8px;
            }
            
            .winner {
                font-size: 16px;
                padding: 12px;
            }
            
            .no-results {
                padding: 30px 15px;
            }
            
            .no-results div:first-child {
                font-size: 36px !important;
            }
        }
        
        @media (max-width: 480px) {
            .box {
                width: 98%;
                padding: 12px;
            }
            
            .input_v1 {
                font-size: 14px;
            }
            
            .button {
                font-size: 16px;
            }
            
            .guide-block {
                font-size: 9px;
                padding: 10px;
            }
            
            .guide-title {
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="box">
        <div class="columns-container">
            <div class="column1">
                <input id="your_name" class="input_v1" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–π —Å—Ç—Ä–∞–Ω—ã:" type="text">
                <input id="target_name" class="input_v1" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞:" type="text">
                <input id="your_army" class="input_v1" placeholder="–ß–∏—Å–ª–µ–Ω–Ω–æ—Å—Ç—å –≤–∞—à–µ–π –∞—Ä–º–∏–∏:" type="number">
                <input id="target_army" class="input_v1" placeholder="–ß–∏—Å–ª–µ–Ω–Ω–æ—Å—Ç—å –∞—Ä–º–∏–∏ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞:" type="number">
                <input id="your_tecnic" class="input_v1" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞—à–µ–π —Ç–µ—Ö–Ω–∏–∫–∏:" type="number">
                <input id="target_tecnic" class="input_v1" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Ö–Ω–∏–∫–∏ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞:" type="number">
                <input id="your_wwp" class="input_v1" placeholder="–í–∞—à –í–í–ü (–º–ª—Ä–¥ $):" type="number">
                <input id="target_wwp" class="input_v1" placeholder="–í–í–ü –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞ (–º–ª—Ä–¥ $):" type="number">
                <select id="time_of_year" class="input_v1">
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–µ–º—è –≥–æ–¥–∞</option>
                    <option value="–ó–∏–º–∞">–ó–∏–º–∞</option>
                    <option value="–í–µ—Å–Ω–∞">–í–µ—Å–Ω–∞</option>
                    <option value="–õ–µ—Ç–æ">–õ–µ—Ç–æ</option>
                    <option value="–û—Å–µ–Ω—å">–û—Å–µ–Ω—å</option>
                </select>
                <input id="your_resourses" class="input_v1" placeholder="–í–∞—à–µ —Å–Ω–∞–±–∂–µ–Ω–∏–µ (1-10):" type="number" min="1" max="10" >
                <input id="target_resourses" class="input_v1" placeholder="–°–Ω–∞–±–∂–µ–Ω–∏–µ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞ (1-10):" type="number" min="1" max="10" >
                <input id="fortress" class="input_v1" placeholder="–£–∫—Ä–µ–ø–ª–µ–Ω–∏—è –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞ (0-10):" type="number" min="0" max="10" >
            </div>
            <div class="column3">
                <div class="guide-block">
                    <div class="guide-title">üìã –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ</div>
                    
                    <div class="guide-item">
                        <strong>ü™ñ –ê—Ä–º–∏—è:</strong>
                        <div class="guide-desc">–û–±—â–∞—è —á–∏—Å–ª–µ–Ω–Ω–æ—Å—Ç—å –≤–æ–π—Å–∫</div>
                    </div>
                    
                    <div class="guide-item">
                        <strong>üöÅ –¢–µ—Ö–Ω–∏–∫–∞:</strong>
                        <div class="guide-desc">–ë–æ–µ–≤—ã–µ –º–∞—à–∏–Ω—ã (√ó10 –∫ —Å–∏–ª–µ)</div>
                    </div>
                    
                    <div class="guide-item">
                        <strong>üí∞ –í–í–ü:</strong>
                        <div class="guide-desc">–í–ª–∏—è–µ—Ç –Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫—É –Ω–∞—Å–µ–ª–µ–Ω–∏—è</div>
                    </div>
                    
                    <div class="guide-item">
                        <strong>üì¶ –°–Ω–∞–±–∂–µ–Ω–∏–µ:</strong>
                        <div class="guide-desc">–ö–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å +5.5%</div>
                    </div>
                    
                    <div class="guide-item">
                        <strong>üè∞ –£–∫—Ä–µ–ø–ª–µ–Ω–∏—è:</strong>
                        <div class="guide-desc">–ö–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å +5.5%</div>
                    </div>
                    
                    <div class="mobile-hide">
                        <hr style="border: 1px solid #27ae60; margin: 10px 0;">
                        
                        <div class="weather-effects">
                            <strong>‚õÖ –ü–æ–≥–æ–¥–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã:</strong>
                        </div>
                        <div class="guide-desc" style="margin-left: 0;">
                            ‚Ä¢ <strong>–Ø—Å–Ω–æ:</strong> –±–µ–∑ —à—Ç—Ä–∞—Ñ–æ–≤<br>
                            ‚Ä¢ <strong>–î–æ–∂–¥—å:</strong> -13% –∞—Ä–º–∏–∏, -15% —Ç–µ—Ö–Ω–∏–∫–∏<br>
                            ‚Ä¢ <strong>–¢—É–º–∞–Ω:</strong> -15% –∞—Ä–º–∏–∏, -25% —Ç–µ—Ö–Ω–∏–∫–∏<br>
                            ‚Ä¢ <strong>–°–Ω–µ–≥:</strong> -20% –∞—Ä–º–∏–∏, -30% —Ç–µ—Ö–Ω–∏–∫–∏
                        </div>
                    </div>
                    
                    <hr style="border: 1px solid #3498db; margin: 10px 0;">
                    
                    <div class="tip">
                        <strong>üí° –°–æ–≤–µ—Ç:</strong> –í—ã—Å–æ–∫–∏–π –í–í–ü –¥–∞–µ—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ –Ω–∞—Å–µ–ª–µ–Ω–∏—è
                    </div>
                </div>
            </div>
            <div class="column2">
                <div class="result_block" id="result_block">
                    <div class="result-title">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å—Ä–∞–∂–µ–Ω–∏—è</div>
                    <div id="result_content">
                        <div class="no-results">
                            <div style="font-size: 48px; margin-bottom: 15px;">‚öîÔ∏è</div>
                            <div>–ù–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å —Å—Ä–∞–∂–µ–Ω–∏–µ" —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±–æ—è</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <button class="button" onclick="fun1()">–ù–∞—á–∞—Ç—å —Å—Ä–∞–∂–µ–Ω–∏–µ</button>
    </div>

    <script>
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–≥–æ–¥–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π
        const weatherConfig = {
            1: { name: "–î–æ–∂–¥—å", armyModifier: 0.87, techModifier: 0.85 },
            2: { name: "–õ–∏–≤–µ–Ω—å", armyModifier: 0.7, techModifier: 0.73 },
            3: { name: "–Ø—Å–Ω–æ", armyModifier: 1, techModifier: 1 },
            4: { name: "–¢—É–º–∞–Ω", armyModifier: 0.85, techModifier: 0.75 },
            5: { name: "–°–Ω–µ–≥", armyModifier: 0.80, techModifier: 0.7 },
            6: { name: "–ú–µ—Ç–µ–ª—å", armyModifier: 0.65, techModifier: 0.6 }
        };

        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ–∑–æ–Ω–Ω—ã—Ö –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤
        const seasonConfig = {
            "–ó–∏–º–∞": { armyModifier: 0.8, techModifier: 0.7, weatherOptions: 6 },
            "–í–µ—Å–Ω–∞": { armyModifier: 0.9, techModifier: 0.87, weatherOptions: 4 },
            "–õ–µ—Ç–æ": { armyModifier: 1.1, techModifier: 1, weatherOptions: 4 },
            "–û—Å–µ–Ω—å": { armyModifier: 0.9, techModifier: 0.9, weatherOptions: 4 }
        };

        function fun1() {
            let y_name = document.getElementById("your_name").value || "–í–∞—à–∞ —Å—Ç—Ä–∞–Ω–∞";
            let t_name = document.getElementById("target_name").value || "–ü—Ä–æ—Ç–∏–≤–Ω–∏–∫";

            let y_army = +document.getElementById("your_army").value;
            let t_army = +document.getElementById("target_army").value;
            let y_tecnic = +document.getElementById("your_tecnic").value;
            let t_tecnic = +document.getElementById("target_tecnic").value;

            let y_wwp = +document.getElementById("your_wwp").value;
            let t_wwp = +document.getElementById("target_wwp").value;
            let time_of_year = document.getElementById("time_of_year").value;

            let y_resourses = +document.getElementById("your_resourses").value;
            let t_resourses = +document.getElementById("target_resourses").value;
            let fortress = +document.getElementById("fortress").value;

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≤—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–∏ –≥–æ–¥–∞
            if (!time_of_year) {
                const resultBlock = document.getElementById("result_block");
                const resultContent = document.getElementById("result_content");
                
                resultBlock.style.border = "3px solid #e74c3c";
                resultContent.innerHTML = `
                    <div style="text-align: center; color: #e74c3c; font-size: 18px; font-weight: bold; padding: 50px 20px;">
                        <div style="font-size: 48px; margin-bottom: 15px;">‚ö†Ô∏è</div>
                        <div>–í—ã –Ω–µ –≤—ã–±—Ä–∞–ª–∏ –≤—Ä–µ–º—è –≥–æ–¥–∞</div>
                    </div>
                `;
                return;
            }
            
            // –£–±–∏—Ä–∞–µ–º –∫—Ä–∞—Å–Ω—É—é —Ä–∞–º–∫—É –µ—Å–ª–∏ –≤—Ä–µ–º—è –≥–æ–¥–∞ –≤—ã–±—Ä–∞–Ω–æ
            const resultBlock = document.getElementById("result_block");
            resultBlock.style.border = "none";

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–Ω–∞—á–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
            let original_y_army = y_army;
            let original_t_army = t_army;
            let original_y_tecnic = y_tecnic;
            let original_t_tecnic = t_tecnic;

            // –ü–æ–ª—É—á–∞–µ–º –ø–æ–≥–æ–¥–Ω—ã–µ —É—Å–ª–æ–≤–∏—è
            const season = seasonConfig[time_of_year];
            const weatherIndex = Math.floor(Math.random() * season.weatherOptions) + 1;
            const weather = weatherConfig[weatherIndex];

            // –ü—Ä–∏–º–µ–Ω—è–µ–º –ø–æ–≥–æ–¥–Ω—ã–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã
            y_army *= weather.armyModifier;
            t_army *= weather.armyModifier;
            y_tecnic *= weather.techModifier;
            t_tecnic *= weather.techModifier;

            // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–µ–∑–æ–Ω–Ω—ã–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã
            y_army *= season.armyModifier;
            t_army *= season.armyModifier;
            y_tecnic *= season.techModifier;
            t_tecnic *= season.techModifier;

            // –ü—Ä–∏–º–µ–Ω—è–µ–º –±–æ–Ω—É—Å—ã –æ—Ç —É–∫—Ä–µ–ø–ª–µ–Ω–∏–π
            let fortress_bonus = 1 + (fortress * 0.055);
            t_army *= fortress_bonus;
            t_tecnic *= fortress_bonus;

            // –ü—Ä–∏–º–µ–Ω—è–µ–º –±–æ–Ω—É—Å—ã –æ—Ç —Å–Ω–∞–±–∂–µ–Ω–∏—è
            let y_supply_bonus = 1 + (y_resourses * 0.055);
            let t_supply_bonus = 1 + (t_resourses * 0.055);
            
            y_army *= y_supply_bonus;
            y_tecnic *= y_supply_bonus;
            t_army *= t_supply_bonus;
            t_tecnic *= t_supply_bonus;

            let y_a_army = Math.floor(y_army + (y_tecnic * 10));
            let t_a_army = Math.floor(t_army + (t_tecnic * 10));

            // –®—Ç—Ä–∞—Ñ –∑–∞ –±–æ–ª—å—à—É—é —Ä–∞–∑–Ω–∏—Ü—É –≤ –í–í–ü
            let gdp_ratio_y = y_wwp / t_wwp;
            let gdp_ratio_t = t_wwp / y_wwp;
            
            let y_gdp_penalty = false;
            let t_gdp_penalty = false;
            
            if (gdp_ratio_t >= 1.2) {
                y_a_army = Math.floor(y_a_army * 0.9);
                y_gdp_penalty = true;
            }
            if (gdp_ratio_y >= 1.2) {
                t_a_army = Math.floor(t_a_army * 0.9);
                t_gdp_penalty = true;
            }

            // –†–∞—Å—á–µ—Ç –ø–æ—Ç–µ—Ä—å
            let lossPercentage1 = (Math.random() * 5) + 10;
            let lossPercentage2 = (Math.random() * 5) + 10;
            
            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ—Ç–µ—Ä–∏ –æ—Ç –ø–ª–æ—Ö–æ–π –ø–æ–≥–æ–¥—ã
            const weatherLossPenalty = {
                "–°–Ω–µ–≥": 3,
                "–ú–µ—Ç–µ–ª—å": 7
            };
            
            if (weatherLossPenalty[weather.name]) {
                lossPercentage1 += weatherLossPenalty[weather.name];
                lossPercentage2 += weatherLossPenalty[weather.name];
            }
            
            let losses1 = Math.round((lossPercentage1 / 100) * y_a_army);
            let losses2 = Math.round((lossPercentage2 / 100) * t_a_army);

            // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞—Å–µ–ª–µ–Ω–∏—è
            let y_population_support = 100;
            let t_population_support = 100;
            
            y_population_support -= lossPercentage1 * 2.5;
            t_population_support -= lossPercentage2 * 2.5;
            
            let y_gdp_support_penalty = 0;
            let t_gdp_support_penalty = 0;
            
            if (y_wwp < t_wwp) {
                let disadvantage_percent = ((t_wwp - y_wwp) / y_wwp) * 100;
                y_gdp_support_penalty = disadvantage_percent / 30;
                y_population_support -= y_gdp_support_penalty;
            }
            
            if (t_wwp < y_wwp) {
                let disadvantage_percent = ((y_wwp - t_wwp) / t_wwp) * 100;
                t_gdp_support_penalty = disadvantage_percent / 30;
                t_population_support -= t_gdp_support_penalty;
            }
            
            y_population_support = Math.max(0, y_population_support);
            t_population_support = Math.max(0, t_population_support);

            let y_support_bonus = y_population_support / 100;
            let t_support_bonus = t_population_support / 100;
            
            y_a_army = Math.floor(y_a_army * (1 + y_support_bonus));
            t_a_army = Math.floor(t_a_army * (1 + t_support_bonus));

            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
            let winner = y_a_army > t_a_army ? y_name : 
                        t_a_army > y_a_army ? t_name : "–ù–∏—á—å—è";

            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            displayResults({
                y_name, t_name, weather: weather.name, time_of_year,
                y_a_army, t_a_army,
                losses1, losses2, lossPercentage1, lossPercentage2,
                y_population_support, t_population_support,
                y_gdp_support_penalty, t_gdp_support_penalty,
                y_support_bonus, t_support_bonus,
                y_gdp_penalty, t_gdp_penalty,
                winner,
                original_y_army, original_t_army,
                original_y_tecnic, original_t_tecnic,
                fortress, y_resourses, t_resourses
            });
        }

        function displayResults(data) {
            const resultContent = document.getElementById("result_content");
            
            resultContent.innerHTML = `
                <div class="weather-info">
                    üå§Ô∏è –ü–æ–≥–æ–¥–∞: ${data.weather} (${data.time_of_year})
                </div>
                
                <div class="army-stats">
                    <div class="army-block your">
                        <div class="army-name">${data.y_name}</div>
                        <div class="army-power">üí™ ${data.y_a_army.toLocaleString()}</div>
                        <div class="stat-line">–ê—Ä–º–∏—è: ${data.original_y_army.toLocaleString()}</div>
                        <div class="stat-line">–¢–µ—Ö–Ω–∏–∫–∞: ${data.original_y_tecnic.toLocaleString()}</div>
                        <div class="stat-line">–°–Ω–∞–±–∂–µ–Ω–∏–µ: ${data.y_resourses}/10</div>
                    </div>
                    <div class="army-block enemy">
                        <div class="army-name">${data.t_name}</div>
                        <div class="army-power">üí™ ${data.t_a_army.toLocaleString()}</div>
                        <div class="stat-line">–ê—Ä–º–∏—è: ${data.original_t_army.toLocaleString()}</div>
                        <div class="stat-line">–¢–µ—Ö–Ω–∏–∫–∞: ${data.original_t_tecnic.toLocaleString()}</div>
                        <div class="stat-line">–£–∫—Ä–µ–ø–ª–µ–Ω–∏—è: ${data.fortress}/10</div>
                    </div>
                </div>
                
                <div class="losses-info">
                    <strong>üíÄ –ü–æ—Ç–µ—Ä–∏ –≤ —Å—Ä–∞–∂–µ–Ω–∏–∏:</strong><br>
                    ${data.y_name}: ${data.losses1.toLocaleString()} (${data.lossPercentage1.toFixed(1)}%)<br>
                    ${data.t_name}: ${data.losses2.toLocaleString()} (${data.lossPercentage2.toFixed(1)}%)
                </div>
                
                <div class="support-info">
                    <strong>üë• –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞—Å–µ–ª–µ–Ω–∏—è:</strong><br>
                    ${data.y_name}: ${data.y_population_support.toFixed(1)}% 
                    ${data.y_gdp_support_penalty > 0 ? `(—à—Ç—Ä–∞—Ñ: -${data.y_gdp_support_penalty.toFixed(1)}%)` : ''}<br>
                    ${data.t_name}: ${data.t_population_support.toFixed(1)}%
                    ${data.t_gdp_support_penalty > 0 ? `(—à—Ç—Ä–∞—Ñ: -${data.t_gdp_support_penalty.toFixed(1)}%)` : ''}
                </div>
                
                <div class="support-info">
                    <strong>‚ö° –ë–æ–Ω—É—Å—ã –∫ –∞—Ä–º–∏–∏:</strong><br>
                    ${data.y_name}: +${(data.y_support_bonus * 100).toFixed(1)}% –æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏
                    ${data.y_gdp_penalty ? ' | -10% –æ—Ç –í–í–ü' : ''}<br>
                    ${data.t_name}: +${(data.t_support_bonus * 100).toFixed(1)}% –æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏
                    ${data.t_gdp_penalty ? ' | -10% –æ—Ç –í–í–ü' : ''}
                </div>
                
                <div class="winner">
                    üèÜ –ü–æ–±–µ–¥–∏—Ç–µ–ª—å: ${data.winner}
                </div>
            `;
        }
    </script>
</body>
</html>